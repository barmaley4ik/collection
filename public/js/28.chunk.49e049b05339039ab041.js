(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"1AWY":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.tox .tox-editor-header {\n    z-index: 0 !important;\n}\n\n",""])},Kx6Y:function(t,e,n){"use strict";var r=n("Xm+p");n.n(r).a},Ujtf:function(t,e,n){"use strict";var r={inheritAttrs:!1,props:{id:{type:String,default:function(){return"select-input-".concat(this._uid)}},value:[String,Number,Boolean],label:String,errors:{type:Array,default:function(){return[]}}},data:function(){return{selected:this.value}},watch:{selected:function(t){this.$emit("input",t)}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()}}},i=n("KHd+"),o=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("label",{staticClass:"form-label",attrs:{for:t.id}},[t._v(t._s(t.label)+":")]):t._e(),t._v(" "),n("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],ref:"input",staticClass:"form-select",class:{error:t.errors.length},attrs:{id:t.id},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected=e.target.multiple?n:n[0]}}},"select",t.$attrs,!1),[t._t("default")],2),t._v(" "),t.errors.length?n("div",{staticClass:"form-error"},[t._v(t._s(t.errors[0]))]):t._e()])}),[],!1,null,null,null);e.a=o.exports},VQpn:function(t,e,n){"use strict";var r={inheritAttrs:!1,props:{id:{type:String,default:function(){return"textarea-input-".concat(this._uid)}},value:String,label:String,errors:{type:Array,default:function(){return[]}}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()}}},i=n("KHd+"),o=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("label",{staticClass:"form-label",attrs:{for:t.id}},[t._v(t._s(t.label)+":")]):t._e(),t._v(" "),n("textarea",t._b({ref:"input",staticClass:"form-textarea",class:{error:t.errors.length},attrs:{id:t.id},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"textarea",t.$attrs,!1)),t._v(" "),t.errors.length?n("div",{staticClass:"form-error"},[t._v(t._s(t.errors[0]))]):t._e()])}),[],!1,null,null,null);e.a=o.exports},"Xm+p":function(t,e,n){var r=n("1AWY");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,i);r.locals&&(t.exports=r.locals)},Z84v:function(t,e,n){"use strict";var r={props:{loading:Boolean}},i=n("KHd+"),o=Object(i.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"flex items-center",attrs:{disabled:this.loading}},[this.loading?e("div",{staticClass:"btn-spinner mr-2"}):this._e(),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},jxNY:function(t,e,n){"use strict";n.r(e);var r=n("+SZM"),i=n("Z84v"),o=n("pF+r"),s=n("ynI1"),a=n("MY0P"),l=n("Ujtf"),c=n("VQpn");function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f={metaInfo:{title:"Редактирование условие участия"},layout:r.a,components:{LoadingButton:i.a,TextInput:o.a,Editor:s.a,Icon:a.a,SelectInput:l.a,TextareaInput:c.a},props:{condition:Object,festivals:Array},remember:{data:["form"]},data:function(){return{current_locale:"",sending:!1,form:{header:JSON.parse(this.condition.header),description:JSON.parse(this.condition.description),meta_title:JSON.parse(this.condition.meta_title),meta_description:JSON.parse(this.condition.meta_description),festival_id:this.condition.festival_id},fests:this.festivals,error_msg:{}}},created:function(){this.current_locale=this.defaultlocale},watch:{"$page.errors":function(t,e){var n=this;Object.entries(t).forEach((function(t){var e=u(t,2),r=e[0],i=e[1];n.error_msg[r]=i}))}},methods:{submit:function(){var t=this;this.sending=!0,this.$inertia.put(this.route("conditions.update",this.condition.id),this.form).then((function(){return t.sending=!1}))},changeLang:function(t){this.current_locale=t.target.value},translate:function(t,e,n,r,i){var o=this;this.fields.textTranslate=i,this.fields.defaultLang=t,this.fields.currentLang=e,this.axios.post(this.route("translate.index"),this.fields).then((function(t){o[n][r][e]=t.data}))}}},p=(n("Kx6Y"),n("KHd+")),h=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"mb-8 font-bold text-3xl"},[n("inertia-link",{staticClass:"text-indigo-400 hover:text-indigo-600",attrs:{href:t.route("conditions")}},[t._v("Условия участия")]),t._v(" "),n("span",{staticClass:"text-indigo-400 font-medium"},[t._v("/")]),t._v("\n    "+t._s(JSON.parse(this.condition.festival.name)[t.defaultlocale])+"\n  ")],1),t._v(" "),n("div",{staticClass:"bg-white rounded shadow overflow-hidden max-w-3xl"},[n("div",{staticClass:"bg-white border-none w-full px-8 ml-1 text-md flex justify-end items-center"},t._l(t.langs,(function(e){return n("button",{key:e,staticClass:"w-10 h-10 rounded mt-6 mr-1 text-white cursor-pointer hover:bg-indigo-300",class:t.current_locale==e?"bg-red-600":"bg-indigo-600",attrs:{value:e},on:{click:function(e){return t.changeLang(e)}}},[t._v(t._s(e))])})),0),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"p-8 -mr-6 -mb-8 flex flex-wrap"},[t._l(t.langs,(function(e){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e==t.current_locale,expression:"lang == current_locale"}],key:"header-"+e,staticClass:"flex w-full",class:t.defaultlocale==e?"":"mr-6"},[n("text-input",{staticClass:"pb-8 pr-6 w-full",attrs:{errors:t.error_msg["header."+e],label:"Заголовок (H1)"},model:{value:t.form.header[e],callback:function(n){t.$set(t.form.header,e,n)},expression:"form.header[lang]"}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e!=t.defaultlocale,expression:"lang != defaultlocale"}],staticClass:"bg-red-600 w-10 h-10 rounded ml-0 mt-6 cursor-pointer",attrs:{title:"Перевести"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.translate(t.defaultlocale,e,"form","header",t.form.header[t.defaultlocale])}}},[n("svg",{staticClass:"fill-current text-white w-6 h-6 ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z"}})])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e==t.current_locale,expression:"lang == current_locale"}],key:"description"+e,staticClass:"flex w-full flex-col pb-8 pr-6"},[n("label",{staticClass:"form-label"},[t._v("Текст:")]),t._v(" "),n("div",{staticClass:"w-full",class:t.defaultlocale==e?"":"flex"},[n("editor",{attrs:{name:"description["+e+"]",init:{plugins:"autolink lists hr anchor searchreplace visualblocks code insertdatetime media paste",language:"ru",skin:"oxide",branding:!1,menubar:"format",toolbar:"styleselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | code "}},model:{value:t.form.description[e],callback:function(n){t.$set(t.form.description,e,n)},expression:"form.description[lang]"}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e!=t.defaultlocale,expression:"lang != defaultlocale"}],staticClass:"bg-red-600 w-10 h-10 rounded ml-10 cursor-pointer",attrs:{title:"Перевести"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.translate(t.defaultlocale,e,"form","description",t.form.description[t.defaultlocale])}}},[n("svg",{staticClass:"fill-current text-white w-6 h-6 ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z"}})])])],1),t._v(" "),t.error_msg["description."+e]?n("div",{staticClass:"form-error"},[t._v(t._s(t.error_msg["description."+e][0]))]):t._e()]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e==t.current_locale,expression:"lang == current_locale"}],key:"meta_title-"+e,staticClass:"flex w-full",class:t.defaultlocale==e?"":"mr-6"},[n("text-input",{staticClass:"pb-8 pr-6 w-full",attrs:{errors:t.error_msg["meta_title."+e],label:"Title"},model:{value:t.form.meta_title[e],callback:function(n){t.$set(t.form.meta_title,e,n)},expression:"form.meta_title[lang]"}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e!=t.defaultlocale,expression:"lang != defaultlocale"}],staticClass:"bg-red-600 w-10 h-10 rounded ml-0 mt-6 cursor-pointer",attrs:{title:"Перевести"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.translate(t.defaultlocale,e,"form","meta_title",t.form.meta_title[t.defaultlocale])}}},[n("svg",{staticClass:"fill-current text-white w-6 h-6 ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z"}})])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e==t.current_locale,expression:"lang == current_locale"}],key:"meta_description"+e,staticClass:"flex w-full",class:t.defaultlocale==e?"":"mr-6"},[n("textarea-input",{staticClass:"pb-8 pr-6 w-full",attrs:{errors:t.error_msg["meta_description."+e],label:"Description"},model:{value:t.form.meta_description[e],callback:function(n){t.$set(t.form.meta_description,e,n)},expression:"form.meta_description[lang]"}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e!=t.defaultlocale,expression:"lang != defaultlocale"}],staticClass:"bg-red-600 w-10 h-10 rounded ml-0 mt-6 cursor-pointer",attrs:{title:"Перевести"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.translate(t.defaultlocale,e,"form","meta_description",t.form.meta_description[t.defaultlocale])}}},[n("svg",{staticClass:"fill-current text-white w-6 h-6 ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M7.41 9l2.24 2.24-.83 2L6 10.4l-3.3 3.3-1.4-1.42L4.58 9l-.88-.88c-.53-.53-1-1.3-1.3-2.12h2.2c.15.28.33.53.51.7l.89.9.88-.88C7.48 6.1 8 4.84 8 4H0V2h5V0h2v2h5v2h-2c0 1.37-.74 3.15-1.7 4.12L7.4 9zm3.84 8L10 20H8l5-12h2l5 12h-2l-1.25-3h-5.5zm.83-2h3.84L14 10.4 12.08 15z"}})])])],1)]})),t._v(" "),n("select-input",{staticClass:"pr-6 pb-8 w-full lg:w-1/2",attrs:{errors:t.error_msg.festival_id,label:"Фестивали"},model:{value:t.form.festival_id,callback:function(e){t.$set(t.form,"festival_id",e)},expression:"form.festival_id"}},t._l(t.fests,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(JSON.parse(e.name)[t.defaultlocale])+"\n          \n          ")])})),0)],2),t._v(" "),n("div",{staticClass:"px-8 py-4 bg-gray-100 border-t border-gray-200 flex justify-end items-center"},[n("loading-button",{staticClass:"btn-indigo text-white hover:bg-red-600 focus:bg-red-600",attrs:{loading:t.sending,type:"submit"}},[t._v("Сохранить")])],1)])])])}),[],!1,null,null,null);e.default=h.exports},"pF+r":function(t,e,n){"use strict";var r={inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"text"},value:String,label:String,errors:{type:Array,default:function(){return[]}}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(t,e){this.$refs.input.setSelectionRange(t,e)}}},i=n("KHd+"),o=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("label",{staticClass:"form-label",attrs:{for:t.id}},[t._v(t._s(t.label)+":")]):t._e(),t._v(" "),n("input",t._b({ref:"input",staticClass:"form-input",class:{error:t.errors.length},attrs:{id:t.id,type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),t.errors.length?n("div",{staticClass:"form-error"},[t._v(t._s(t.errors[0]))]):t._e()])}),[],!1,null,null,null);e.a=o.exports},xKn5:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=function(){return"undefined"!=typeof window?window:t},i=function(){var t=r();return t&&t.tinymce?t.tinymce:null}}).call(this,n("yLpj"))},ynI1:function(t,e,n){"use strict";var r,i=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==i.indexOf(t)},s=function(t,e,n){var r=e.$props.value?e.$props.value:"",i=e.$props.initialValue?e.$props.initialValue:"";n.setContent(r||i),e.$listeners.input&&function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;t.$watch("value",(function(n,r){e&&"string"==typeof n&&n!==r&&n!==e.getContent({format:t.$props.outputFormat})&&e.setContent(n)})),e.on(r||"change keyup undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))}(e,n),function(t,e,n){Object.keys(e).filter(o).forEach((function(r){var i=e[r];"function"==typeof i&&("onInit"===r?i(t,n):n.on(r.substring(2),(function(t){return i(t,n)})))}))}(t,e.$listeners,n)},a=0,l=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++a+String(e)},c=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},u=function(){return{listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1}},d=(r=u(),{load:function(t,e,n){r.scriptLoaded?n():(r.listeners.push(n),t.getElementById(r.scriptId)||function(t,e,n,r){var i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t,i.src=n;var o=function(){i.removeEventListener("load",o),r()};i.addEventListener("load",o),e.head&&e.head.appendChild(i)}(r.scriptId,t,e,(function(){r.listeners.forEach((function(t){return t()})),r.scriptLoaded=!0})))},reinitialize:function(){r=u()}}),f=n("xKn5"),p={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(t){return function(){var e,n,r,i=h(h({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:(e=t.$props.init&&t.$props.init.plugins,n=t.$props.plugins,c(e).concat(c(n))),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return s(n,t,e)})),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});null!==(r=t.element)&&"textarea"===r.tagName.toLowerCase()&&(t.element.style.visibility=""),Object(f.a)().init(i)}},v={props:p,created:function(){this.elementId=this.$props.id||l("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(f.a)())m(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;d.load(this.element.ownerDocument,n,m(this))}},beforeDestroy:function(){null!==Object(f.a)()&&Object(f.a)().remove(this.editor)},render:function(t){return this.inlineEditor?function(t,e,n){return t(n||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}};e.a=v}}]);
//# sourceMappingURL=28.chunk.49e049b05339039ab041.js.map